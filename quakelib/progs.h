#ifndef _QUAKE_PROGS_H
#define _QUAKE_PROGS_H

#include "_cgo_export.h"

#include "pr_comp.h"  /* defs shared with qcc */
#include "progdefs.h" /* generated by program cdefs */

#include "edict.h"

typedef union eval_s {
  GoInt32 string;
  float _float;
  float vector[3];
  GoInt32 function;
  int _int;
  int edict;
} eval_t;

entvars_t *EdictV(edict_t *e);

//============================================================================

extern dprograms_t *progs;
extern dfunction_t *pr_functions;
extern dstatement_t *pr_statements;

void PR_Init(void);

void PR_ExecuteProgram(int fnum);
void PR_LoadProgs(void);

void PR_Profile_f(void);

void TT_ClearEdict(int e);

int ED_Alloc(void);
void ED_Free(int ed);

void ED_Write(FILE *f, int ed);
const char *ED_ParseEdict(const char *data, int ent);

void ED_WriteGlobals(FILE *f);
void ED_ParseGlobals(const char *data);

void ED_LoadFromFile(const char *data);

edict_t *AllocEdicts();
void FreeEdicts(edict_t *e);

extern int type_size[8];

typedef void (*builtin_t)(void);
extern builtin_t *pr_builtins;
extern int pr_numbuiltins;

extern int pr_argc;

extern qboolean pr_trace;
extern dfunction_t *pr_xfunction;
extern int pr_xstatement;

extern unsigned short pr_crc;

void PR_RunError(const char *error, ...);
//    __attribute__((__format__(__printf__, 1, 2), __noreturn__));

void ED_PrintEdicts(void);
void ED_PrintNum(int ent);

eval_t *GetEdictFieldValue(entvars_t *ev, const char *field);

#endif /* _QUAKE_PROGS_H */
